<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>书签</title>
    <!-- 字体 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;500;600;700&family=Comfortaa:wght@400;500;600;700&family=Varela+Round&display=swap" rel="stylesheet">
    <!-- 样式 -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <!-- 头部 -->
        <div class="header">
            <div class="header-left">
                <button class="mobile-menu-btn" onclick="App.toggleSidebar()">
                    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 12h18M3 6h18M3 18h18"/>
                    </svg>
                </button>
                <h1>
                    <svg class="logo-icon" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"/>
                    </svg>
                    <span class="logo-text">书签管理</span>
                </h1>
            </div>
            
            <!-- 搜索框 -->
            <div class="search-box">
                <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="M21 21l-4.35-4.35"/>
                </svg>
                <input type="text" id="searchInput" placeholder="搜索书签..." oninput="App.handleSearch(this.value)">
            </div>
            
            <div class="header-buttons">
                <button class="btn btn-primary" onclick="App.showAddModal()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
                        <path d="M12 5v14M5 12h14"/>
                    </svg>
                    <span>新增</span>
                </button>
                <button class="btn btn-primary" onclick="App.exportData()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M7 10l5 5 5-5M12 15V3"/>
                    </svg>
                    <span>导出</span>
                </button>
                <input type="file" id="importFile" style="display: none;" accept=".json" onchange="App.importData(event)">
                <button class="btn btn-primary" onclick="document.getElementById('importFile').click()">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4M17 8l-5-5-5 5M12 3v12"/>
                    </svg>
                    <span>导入</span>
                </button>
            </div>
        </div>

        <!-- 侧边栏遮罩 -->
        <div class="sidebar-overlay"></div>

        <!-- 主内容区 -->
        <div class="main-content">
            <div class="sidebar">
                <div class="category-list" id="categoryList"></div>
                <div class="subcategory-list" id="subcategoryList"></div>
            </div>
            <div class="content" id="content">
                <div class="empty-state">
                    <div class="empty-state-icon">📚</div>
                    <h3>欢迎使用书签管理工具</h3>
                    <p>请选择左侧分类查看书签，或点击上方按钮新增书签</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 新增书签弹窗 -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>新增书签</h3>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="categoryInput">大类名称</label>
                    <input type="text" id="categoryInput" placeholder="例如：在线课程" list="categoryDatalist">
                    <datalist id="categoryDatalist"></datalist>
                </div>
                <div class="form-group">
                    <label for="subcategoryInput">小类名称</label>
                    <input type="text" id="subcategoryInput" placeholder="例如：机器学习" list="subcategoryDatalist">
                    <datalist id="subcategoryDatalist"></datalist>
                </div>
                <div class="form-group">
                    <label for="titleInput">链接名称</label>
                    <input type="text" id="titleInput" placeholder="例如：MIT-2024-优化理论">
                </div>
                <div class="form-group">
                    <label for="urlInput">链接地址</label>
                    <input type="url" id="urlInput" placeholder="https://example.com">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="App.closeModal()">取消</button>
                <button class="btn btn-success" onclick="App.addBookmark()">添加</button>
            </div>
        </div>
    </div>

    <!-- 移动端底部操作栏 -->
    <div class="mobile-actions">
        <div class="mobile-actions-grid">
            <button class="btn btn-success" style="width: 100%;" onclick="App.showAddModal()">
                <span>➕</span> 新增
            </button>
            <button class="btn btn-secondary" style="width: 100%;" onclick="document.getElementById('importFile').click()">
                <span>📂</span> 导入
            </button>
            <button class="btn btn-secondary" style="width: 100%;" onclick="App.exportData()">
                <span>💾</span> 导出
            </button>
            <button class="btn btn-secondary" style="width: 100%;" onclick="App.clearCache()">
                <span>🔄</span> 重置
            </button>
        </div>
    </div>

    <!-- Toast提示 -->
    <div id="toast" class="toast"></div>

    <!-- JavaScript模块 -->
    <script src="js/store.js"></script>
    <script src="js/toast.js"></script>
    <script src="js/render.js"></script>
    <script src="js/modal.js"></script>
    <script src="js/sidebar.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
