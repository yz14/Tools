/**
 * PaperNotes - Configuration
 * MathJax settings and category structure
 */

// MathJax Configuration
window.MathJax = {
    tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true,
        packages: {'[+]': ['base', 'ams', 'newcommand', 'configmacros', 'action', 'bbox', 'boldsymbol', 'braket', 'cancel', 'color', 'enclose', 'mhchem', 'physics', 'upgreek', 'unicode', 'verb', 'colorv2']},
        tags: 'ams',
        tagSide: 'right',
        tagIndent: '0.8em',
        multlineWidth: '85%',
        useLabelIds: true,
        macros: {
            // 常用数学符号
            RR: "\\mathbb{R}",
            NN: "\\mathbb{N}",
            ZZ: "\\mathbb{Z}",
            QQ: "\\mathbb{Q}",
            CC: "\\mathbb{C}",
            // 向量和矩阵
            bm: ["\\boldsymbol{#1}", 1],
            vec: ["\\mathbf{#1}", 1],
            mat: ["\\mathbf{#1}", 1],
            // 微积分
            dd: "\\mathrm{d}",
            diff: ["\\frac{\\mathrm{d}#1}{\\mathrm{d}#2}", 2],
            pdiff: ["\\frac{\\partial #1}{\\partial #2}", 2],
            // 概率统计
            EE: "\\mathbb{E}",
            PP: "\\mathbb{P}",
            Var: "\\mathrm{Var}",
            Cov: "\\mathrm{Cov}",
            // 其他常用
            argmax: "\\operatorname*{arg\\,max}",
            argmin: "\\operatorname*{arg\\,min}",
            // 机器学习相关
            loss: "\\mathcal{L}",
            data: "\\mathcal{D}",
            model: "\\mathcal{M}"
        }
    },
    svg: {
        fontCache: 'global',
        displayAlign: 'left',
        displayIndent: '2em'
    },
    loader: {
        load: ['[tex]/color', '[tex]/bbox', '[tex]/colorv2']
    },
    options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
        ignoreHtmlClass: 'tex2jax_ignore',
        processHtmlClass: 'tex2jax_process'
    },
    startup: {
        pageReady: () => {
            return MathJax.startup.defaultPageReady();
        }
    }
};

// Category Structure - AI/ML Paper Classification
const CATEGORY_STRUCTURE = {
    "一：基础理论与方法": {
        "1. 机器学习基础": ["1.1 监督学习", "1.2 无监督学习", "1.3 半监督学习", "1.4 自监督学习", "1.5 强化学习基础", "1.6 在线学习与主动学习", "1.7 集成学习"],
        "2. 深度学习核心": ["2.1 优化算法", "2.2 正则化技术", "2.3 归一化方法", "2.4 激活函数与损失函数", "2.5 学习率调度", "2.6 数据增强策略"],
        "3. 神经网络架构": ["3.1 前馈神经网络", "3.2 卷积神经网络 (CNN)", "3.3 循环神经网络 (RNN/LSTM/GRU)", "3.4 Transformer架构", "3.5 图神经网络 (GNN)", "3.6 注意力机制", "3.7 神经架构搜索 (NAS)"],
        "4. 生成模型": ["4.1 生成对抗网络 (GAN)", "4.2 变分自编码器 (VAE)", "4.3 扩散模型", "4.4 自回归模型", "4.5 流模型", "4.6 基于能量的模型"]
    },
    "二：核心应用领域": {
        "5. 计算机视觉": ["5.1 图像分类与识别", "5.2 目标检测", "5.3 图像分割", "5.4 目标跟踪", "5.5 姿态估计", "5.6 三维视觉与场景重建", "5.7 视频理解", "5.8 图像生成与编辑", "5.9 光流估计", "5.10 图像增强"],
        "6. 自然语言处理": ["6.1 词嵌入与表示学习", "6.2 预训练语言模型", "6.3 大语言模型 (LLM)", "6.4 机器翻译", "6.5 文本生成", "6.6 问答系统", "6.7 对话系统", "6.8 信息抽取", "6.9 文本摘要", "6.10 情感分析与文本分类", "6.11 自然语言理解与推理", "6.12 提示工程"],
        "7. 多模态学习": ["7.1 视觉-语言预训练", "7.2 图像描述生成", "7.3 视觉问答 (VQA)", "7.4 文本到图像生成", "7.5 视频-语言理解", "7.6 音频-视觉学习", "7.7 多模态大模型"],
        "8. 语音与音频": ["8.1 语音识别 (ASR)", "8.2 语音合成 (TTS)", "8.3 语音转换", "8.4 语音增强", "8.5 说话人识别", "8.6 语音情感识别", "8.7 音乐生成与理解"],
        "9. 强化学习": ["9.1 值函数方法", "9.2 策略梯度方法", "9.3 Actor-Critic方法", "9.4 模型预测控制", "9.5 多智能体强化学习", "9.6 逆强化学习与模仿学习", "9.7 离线强化学习", "9.8 层次强化学习", "9.9 游戏AI应用"]
    },
    "三：专业应用场景": {
        "10. 医疗AI": ["10.1 医学图像分析", "10.2 病理图像分析", "10.3 医学影像分割", "10.4 药物发现", "10.5 临床预测模型", "10.6 基因组学"],
        "11. 自动驾驶": ["11.1 感知系统", "11.2 多传感器融合", "11.3 端到端驾驶", "11.4 运动预测", "11.5 路径规划", "11.6 场景理解"],
        "12. 机器人学习": ["12.1 机器人操作", "12.2 模仿学习", "12.3 机器人导航", "12.4 机器人视觉", "12.5 多机器人协作"],
        "13. 推荐系统": ["13.1 协同过滤", "13.2 深度推荐模型", "13.3 序列推荐", "13.4 知识图谱推荐", "13.5 多任务推荐"],
        "14. 时间序列分析": ["14.1 时间序列预测", "14.2 异常检测", "14.3 时序分类"],
        "15. 科学AI": ["15.1 蛋白质结构预测", "15.2 材料科学", "15.3 气候预测", "15.4 数学定理证明", "15.5 分子设计"]
    },
    "四：前沿研究主题": {
        "16. 迁移学习与适应": ["16.1 迁移学习基础", "16.2 域适应", "16.3 域泛化", "16.4 测试时适应", "16.5 参数高效微调"],
        "17. 少样本与零样本学习": ["17.1 少样本学习", "17.2 零样本学习", "17.3 元学习"],
        "18. 持续学习": ["18.1 灾难性遗忘", "18.2 增量学习", "18.3 终身学习"],
        "19. 知识表示与推理": ["19.1 知识图谱", "19.2 知识图谱补全", "19.3 常识推理", "19.4 神经符号系统", "19.5 逻辑推理"],
        "20. 因果推断": ["20.1 因果发现", "20.2 反事实推理", "20.3 因果表示学习"],
        "21. 世界模型": ["21.1 环境建模", "21.2 视频预测", "21.3 物理模拟"],
        "22. AI Agent": ["22.1 语言Agent", "22.2 多Agent系统", "22.3 具身Agent", "22.4 工具使用"],
        "23. 基础模型": ["23.1 视觉基础模型", "23.2 语言基础模型", "23.3 多模态基础模型", "23.4 基础模型评估"]
    },
    "五：AI安全与优化": {
        "24. 模型压缩与加速": ["24.1 网络剪枝", "24.2 量化", "24.3 知识蒸馏", "24.4 轻量级网络设计", "24.5 神经网络加速器"],
        "25. 对抗样本与鲁棒性": ["25.1 对抗攻击", "25.2 对抗防御", "25.3 鲁棒性分析", "25.4 认证防御"],
        "26. 可解释性与可视化": ["26.1 特征可视化", "26.2 显著性图与注意力分析", "26.3 模型解释", "26.4 因果解释"],
        "27. AI安全与对齐": ["27.1 AI安全基础", "27.2 价值对齐", "27.3 人类反馈强化学习", "27.4 红队测试", "27.5 安全评估"],
        "28. AI伦理与公平性": ["28.1 算法公平性", "28.2 偏见检测与缓解", "28.3 AI伦理框架", "28.4 可问责性与透明度"],
        "29. 隐私保护": ["29.1 联邦学习", "29.2 差分隐私", "29.3 安全多方计算", "29.4 同态加密"]
    },
    "六：系统与工程": {
        "30. AI系统与基础设施": ["30.1 分布式训练", "30.2 模型并行", "30.3 混合精度训练", "30.4 梯度累积与检查点"],
        "31. AutoML": ["31.1 神经架构搜索", "31.2 超参数优化", "31.3 自动特征工程", "31.4 AutoML系统"],
        "32. MLOps与部署": ["32.1 模型部署", "32.2 模型监控", "32.3 A/B测试", "32.4 持续集成/持续部署"],
        "33. 边缘AI": ["33.1 边缘计算优化", "33.2 片上学习", "33.3 移动端部署"]
    },
    "七：交叉与新兴领域": {
        "34. 具身AI": ["34.1 视觉导航", "34.2 具身问答", "34.3 交互式学习"],
        "35. 社交AI": ["35.1 情感计算", "35.2 社交机器人", "35.3 人机交互"],
        "36. 创意AI": ["36.1 艺术生成", "36.2 音乐生成", "36.3 视频生成", "36.4 3D内容生成"],
        "37. 神经科学启发的AI": ["37.1 脉冲神经网络", "37.2 记忆网络", "37.3 认知架构"],
        "38. 量子机器学习": ["38.1 量子神经网络", "38.2 量子算法", "38.3 量子-经典混合系统"]
    }
};

// Export for use in other modules
window.PaperNotes = window.PaperNotes || {};
window.PaperNotes.CATEGORY_STRUCTURE = CATEGORY_STRUCTURE;
